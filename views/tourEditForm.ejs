<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags-->
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="au theme template" />
    <meta name="author" content="Hau Nguyen" />
    <meta name="keywords" content="au theme template" />

    <!-- Title Page-->
    <title>Forms</title>

    <!-- Fontfaces CSS-->
    <link href="/css/font-face.css" rel="stylesheet" media="all" />
    <link
      href="/vendor/font-awesome-5/css/fontawesome-all.min.css"
      rel="stylesheet"
      media="all"
    />
    <link
      href="/vendor/font-awesome-4.7/css/font-awesome.min.css"
      rel="stylesheet"
      media="all"
    />
    <link
      href="/vendor/mdi-font/css/material-design-iconic-font.min.css"
      rel="stylesheet"
      media="all"
    />

    <!-- Bootstrap CSS-->
    <link
      href="/vendor/bootstrap-4.1/bootstrap.min.css"
      rel="stylesheet"
      media="all"
    />

    <!-- Vendor CSS-->
    <link
      href="/vendor/animsition/animsition.min.css"
      rel="stylesheet"
      media="all"
    />
    <link
      href="/vendor/bootstrap-progressbar/bootstrap-progressbar-3.3.4.min.css"
      rel="stylesheet"
      media="all"
    />
    <link href="/vendor/wow/animate.css" rel="stylesheet" media="all" />
    <link
      href="/vendor/css-hamburgers/hamburgers.min.css"
      rel="stylesheet"
      media="all"
    />
    <link href="/vendor/slick/slick.css" rel="stylesheet" media="all" />
    <link href="/vendor/select2/select2.min.css" rel="stylesheet" media="all" />
    <link
      href="/vendor/perfect-scrollbar/perfect-scrollbar.css"
      rel="stylesheet"
      media="all"
    />

    <!-- Main CSS-->
    <link href="/css/theme.css" rel="stylesheet" media="all" />
  </head>

  <body class="animsition">
    <div class="page-wrapper">
      <!-- HEADER MOBILE-->
      <%-include("./layouts/adminHeaderMobile")%>

      <!-- END HEADER MOBILE-->

      <!-- MENU SIDEBAR-->
      <%-include("./layouts/adminSidebar")%>
      <!-- END MENU SIDEBAR-->

      <!-- PAGE CONTAINER-->
      <div class="page-container">
        <!-- HEADER DESKTOP-->
        <%-include("./layouts/adminHeader")%>
        <!-- HEADER DESKTOP-->

        <!-- MAIN CONTENT-->
        <div class="main-content">
          <div class="section__content section__content--p30">
            <div class="container-fluid">
              <div class="row">
                <div class="col-lg-12">
                  <div class="card">
                    <div class="card-header">Tour Package Edit Page</div>
                    <div class="card-body">
                      <div class="card-title">
                        <h3 class="text-center title-2">Tour Edit</h3>
                      </div>
                      <hr />
                      <%- include("./layouts/flash") %>
                      <form
                        action="/admin/tourEdit/<%=data._id%>"
                        method="post"
                        enctype="multipart/form-data"
                      >
                        <div class="form-group">
                          <label for="place" class="control-label mb-1"
                            >Place Name</label
                          >
                          <input
                            id="place"
                            name="place"
                            type="text"
                            class="form-control"
                            aria-required="true"
                            aria-invalid="false"
                            value="<%= data.place %>"
                          />
                        </div>
                        <div class="form-group">
                          <label for="fullAddress" class="form-control-label"
                            >Full Address</label
                          >
                          <input
                            type="text"
                            id="fullAddress"
                            placeholder="Enter Full Address"
                            class="form-control"
                            name="fullAddress"
                            value="<%= data.address.fullAddress %>"
                          />
                        </div>
                        <div class="row form-group">
                          <div class="col-8">
                            <div class="form-group">
                              <label for="city" class="form-control-label"
                                >City</label
                              >
                              <input
                                type="text"
                                id="city"
                                placeholder="Enter your city"
                                class="form-control"
                                name="city"
                                value="<%= data.address.city %>"
                              />
                            </div>
                          </div>
                          <div class="col-8">
                            <div class="form-group">
                              <label for="district" class="form-control-label"
                                >District</label
                              >
                              <input
                                type="text"
                                id="district"
                                placeholder="Enter your district"
                                class="form-control"
                                name="district"
                                value="<%= data.address.district %>"
                              />
                            </div>
                          </div>
                          <div class="col-8">
                            <div class="form-group">
                              <label for="state" class="form-control-label"
                                >State</label
                              >
                              <input
                                type="text"
                                id="state"
                                placeholder="Enter your state"
                                class="form-control"
                                name="state"
                                value="<%= data.address.state %>"
                              />
                            </div>
                          </div>
                          <div class="col-8">
                            <div class="form-group">
                              <label for="country" class="form-control-label"
                                >Country</label
                              >
                              <input
                                type="text"
                                id="country"
                                placeholder="Country"
                                class="form-control"
                                name="country"
                                value="<%= data.address.country %>"
                              />
                            </div>
                          </div>

                          <div class="col-8">
                            <div class="form-group">
                              <label for="pin" class="form-control-label"
                                >Pin Code</label
                              >
                              <input
                                type="number"
                                id="pin"
                                placeholder="Pin Code"
                                class="form-control"
                                name="pin"
                                value="<%= data.address.pin %>"
                              />
                            </div>
                          </div>
                        </div>
                        <div class="form-group">
                          <label for="textarea-input" class="form-control-label"
                            >Description</label
                          >
                          <div class="col-12">
                            <textarea
                              id="textarea-input"
                              rows="9"
                              placeholder="Content..."
                              class="form-control"
                              name="description"
                              value="<%= data.description %>"
                            >
                            <%= data.description %>
                            </textarea>
                          </div>
                        </div>
                        <div class="form-group">
                          <label for="price" class="control-label mb-1"
                            >Total Price</label
                          >
                          <input
                            id="price"
                            name="price"
                            type="number"
                            class="form-control"
                            aria-required="true"
                            aria-invalid="false"
                            value="<%= data.price %>"
                          />
                        </div>
                        <div class="form-group">
                          <label for="packageDays" class="control-label mb-1"
                            >Total Package Days</label
                          >
                          <input
                            id="packageDays"
                            name="packageDays"
                            type="number"
                            class="form-control"
                            aria-required="true"
                            aria-invalid="false"
                            value="<%= data.packageDays %>"
                          />
                        </div>
                        <% data.packageSummary.forEach(function(pkg, i) { %> <%
                        pkg.day.forEach(function(d,i){ %>
                        <div id="formItems">
                          <div class="row form-group item-group">
                            <div class="col-md-2">
                              <label for="day" class="control-label mb-1"
                                >Day</label
                              >
                              <input
                                id="day"
                                name="day[]"
                                type="number"
                                class="form-control"
                                aria-required="true"
                                aria-invalid="false"
                                value="<%= d %>"
                              />
                            </div>
                            <div class="col-md-8">
                              <label for="daySummary" class="control-label mb-1"
                                >Day Summary</label
                              >
                              <input
                                id="daySummary"
                                name="daySummary[]"
                                type="text"
                                class="form-control"
                                aria-required="true"
                                aria-invalid="false"
                                value="<%= pkg.daySummary[i] %>"
                              />
                            </div>
                            <div class="col-md-2">
                              <button
                                type="button"
                                class="btn btn-danger mt-4"
                                onclick="removeItem(this)"
                              >
                                Remove
                              </button>
                            </div>
                          </div>
                        </div>
                        <% }) %> <% }) %>

                        <button
                          type="button"
                          class="btn btn-secondary my-2"
                          onclick="addItem()"
                        >
                          Add Item
                        </button>
                        <div class="form-group">
                          <label for="image" class="form-control-label"
                            >Upload Image</label
                          >
                          <input
                            type="file"
                            id="image"
                            name="image"
                            accept="image/*"
                            class="form-control-file"
                            multiple
                          />
                        </div>
                        <div>
                          <button
                            id="payment-button"
                            type="submit"
                            class="btn btn-lg btn-info btn-block"
                          >
                            <!-- <i class="fa fa-lock fa-lg"></i>&nbsp; -->
                            <span id="payment-button-amount">Submit</span>
                            <span
                              id="payment-button-sending"
                              style="display: none"
                              >Sending…</span
                            >
                          </button>
                        </div>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Jquery JS-->
    <script src="/vendor/jquery-3.2.1.min.js"></script>
    <!-- Bootstrap JS-->
    <script src="/vendor/bootstrap-4.1/popper.min.js"></script>
    <script src="/vendor/bootstrap-4.1/bootstrap.min.js"></script>
    <!-- Vendor JS       -->
    <script src="/vendor/slick/slick.min.js"></script>
    <script src="/vendor/wow/wow.min.js"></script>
    <script src="/vendor/animsition/animsition.min.js"></script>
    <script src="/vendor/bootstrap-progressbar/bootstrap-progressbar.min.js"></script>
    <script src="/vendor/counter-up/jquery.waypoints.min.js"></script>
    <script src="/vendor/counter-up/jquery.counterup.min.js"></script>
    <script src="/vendor/circle-progress/circle-progress.min.js"></script>
    <script src="/vendor/perfect-scrollbar/perfect-scrollbar.js"></script>
    <script src="/vendor/chartjs/Chart.bundle.min.js"></script>
    <script src="/vendor/select2/select2.min.js"></script>

    <!-- Main JS-->
    <script src="/js/main1.js"></script>
    <script>
      function addItem() {
        const itemHTML = `
        <div class="row form-group item-group">
                          <div class="col-md-2"><label for="day" class="control-label mb-1"
                            >Day</label
                          >
                          <input
                            id="day"
                            name="day[]"
                            type="number"
                            class="form-control"
                            aria-required="true"
                            aria-invalid="false"
                          /></div>
                          <div class="col-md-8"><label for="daySummary" class="control-label mb-1"
                            >Day Summary</label
                          >
                          <input
                            id="daySummary"
                            name="daySummary[]"
                            type="text"
                            class="form-control"
                            aria-required="true"
                            aria-invalid="false"
                          />
                        </div>
                          <div class="col-md-2">
                            <button
                                type="button"
                                class="btn btn-danger mt-4"
                                onclick="removeItem(this)"
                            >
                              Remove
                            </button>
                          </div>
                        </div>
      `;
        document
          .getElementById("formItems")
          .insertAdjacentHTML("beforeend", itemHTML);
      }

      function removeItem(button) {
        const itemGroup = button.closest(".item-group");
        itemGroup.remove();
      }
    </script>
  </body>
</html>
<!-- end document-->
